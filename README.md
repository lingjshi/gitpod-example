# Template for Mapping from MySQL to RDF Triples using XRM

<a href="https://gitpod.io/#https://github.com/zazuko/gitpod-example" style="padding: 10px;">
    <img src="https://gitpod.io/button/open-in-gitpod.svg" width="150" alt="Push" align="center">
</a>

Use this repo as template to set up a project-specific mapping project.

This repository is structured as a full example showing how Zazuko [Expressive RDF Mapper (XRM)](https://zazuko.com/products/expressive-rdf-mapper/)
can be used together with [Ontop](https://github.com/ontop/ontop) to generate triples out of a MySQL database. See our [product page](https://zazuko.com/products/expressive-rdf-mapper/) and the [documentation](https://github.com/zazuko/expressive-rdf-mapper) for editing instructions.


For this example, we will use a basic [example database](https://www.w3.org/TR/r2rml/#example-input-database) from the R2RML W3C Recommendation.

Using the *Expressive RDF Mapper* Eclipse plugin or the VS Code extension, the project will automatically write the mapping to [`./src-gen`](./src-gen).

## Prerequisites

* [Docker](https://www.docker.com/get-started)
* [docker-compose](https://docs.docker.com/compose/install/)
* GNU Make

## Repository Structure

* [`Makefile`](./Makefile)

    * `$ make install_ontop` to install Ontop.
    * `$ make convert` to 'apply' the r2rml mapping generated by the expressive-rdf-mapping to the MySQL database, resulting in `ontop-scripts/triples.nt` N-Triples file.
    * `$ make pipeline` to run the pipeline that creates IRI slugs for the location resources, resulting in `ontop-scripts/triples-slug.nt` N-Triples file.

* [`mapping/`](./mapping/)

    [R2RML](https://www.w3.org/TR/r2rml/#abstract) mappings used to convert the MySQL database content into triples. The R2RML mappings are generated using the [expressive-rdf-mapper](https://github.com/zazuko/expressive-rdf-mapper).

* [`ontop-scripts/`](./ontop-scripts/)

    Scripts used to create triples from the MySQL database, using the R2RML mappings.
